<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Energy Insights Dashboard</title>
    <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined" rel="stylesheet">
    <style>
        /* Stile per i blocchi narrativi iniziali (fuori dalla griglia) */
        .intro-header {
            margin: 0 2rem 2rem 2rem;
            max-width: 800px;
        }
        .intro-header h1 {
            font-size: 2.5rem;
            color: #1a202c;
            margin-bottom: 1rem;
            font-weight: 800;
            line-height: 1.2;
        }
        .intro-header p {
            font-size: 1.1rem;
            line-height: 1.6;
            color: #4a5568;
        }

        /* Stile per i blocchi narrativi INTERNI alla griglia */
        .narrative-break {
            grid-column: 1 / -1; /* Occupa tutta la larghezza */
            background: #fff;
            padding: 2rem;
            border-radius: 12px;
            margin: 1rem 0;
            border-left: 4px solid #667eea; /* Accento visivo */
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .narrative-break h3 {
            font-size: 1.5rem;
            color: #2d3748;
            margin-bottom: 0.75rem;
            font-weight: 700;
        }

        .narrative-break p {
            font-size: 1.05rem;
            line-height: 1.7;
            color: #4a5568;
        }
        
        .narrative-break strong {
            color: #2d3748;
            font-weight: 600;
        }
    </style>
</head>

<body>
    <div class="dashboard">
        <aside class="sidebar">
            <div class="sidebar-header">
                <span class="material-icons-outlined logo-icon">bolt</span>
                <h1>Energy Insights</h1>
            </div>

            <nav class="sidebar-nav">
                <div class="nav-section">
                    <span class="nav-section-title">Overview</span>
                    <a href="#" class="nav-item active"
                        onclick="window.scrollTo({top: 0, behavior: 'smooth'}); return false;">
                        <span class="material-icons-outlined">dashboard</span>
                        <span>Dashboard</span>
                    </a>
                    <a href="#chart-map" class="nav-item">
                        <span class="material-icons-outlined">public</span>
                        <span>Global Map</span>
                    </a>
                </div>

                <div class="nav-section">
                    <span class="nav-section-title">Charts</span>

                    <a href="#chart-consumption" class="nav-item">
                        <span class="material-icons-outlined">timeline</span>
                        <span>Consumption Trend</span>
                    </a>

                    <a href="#chart-mix" class="nav-item">
                        <span class="material-icons-outlined">stacked_bar_chart</span>
                        <span>Energy Mix</span>
                    </a>

                    <a href="#chart-renewables" class="nav-item">
                        <span class="material-icons-outlined">eco</span>
                        <span>Renewables Growth</span>
                    </a>

                    <a href="#chart-gdp-energy" class="nav-item">
                        <span class="material-icons-outlined">monetization_on</span>
                        <span>GDP vs Energy</span>
                    </a>

                    <a href="#chart-co2-energy" class="nav-item">
                        <span class="material-icons-outlined">cloud</span>
                        <span>Carbon Intensity</span>
                    </a>

                    <a href="#chart-share" class="nav-item">
                        <span class="material-icons-outlined">pie_chart</span>
                        <span>Global Share</span>
                    </a>

                    <a href="#chart-evolution" class="nav-item">
                        <span class="material-icons-outlined">area_chart</span>
                        <span>Regional Evolution</span>
                    </a>

                    <a href="#chart-low-carbon" class="nav-item">
                        <span class="material-icons-outlined">electric_bolt</span>
                        <span>Low Carbon Tech</span>
                    </a>

                    <a href="#chart-top-consumers" class="nav-item">
                        <span class="material-icons-outlined">leaderboard</span>
                        <span>Top Consumers</span>
                    </a>
                </div>
            </nav>

            <div class="sidebar-footer">
                <span class="data-source">Data Source: Our World in Data</span>
            </div>
        </aside>
        <main class="main-content">
            <div class="top-bar">
                <div class="search-box">
                    <span class="material-icons-outlined">search</span>
                    <input type="text" placeholder="Search countries, regions..." id="searchInput">
                </div>

                <div class="top-controls">
                    <div class="filter-group">
                        <label>Year</label>
                        <div class="year-control">
                            <span id="currentYearDisplay">2020</span>
                            <input type="range" id="yearSlider" min="1991" max="2022" value="2020" step="1">
                        </div>
                    </div>

                    <div class="filter-group">
                        <label>Country</label>
                        <select id="countrySelect" class="filter-select">
                            <option value="World">World</option>
                            <option value="United States">United States</option>
                            <option value="China">China</option>
                            <option value="India">India</option>
                            <option value="Japan">Japan</option>
                            <option value="Germany">Germany</option>
                            <option value="Russia">Russia</option>
                            <option value="Brazil">Brazil</option>
                            <option value="United Kingdom">United Kingdom</option>
                            <option value="France">France</option>
                        </select>
                    </div>

                    <div class="filter-group">
                        <label>Metric</label>
                        <select id="metricSelect" class="filter-select">
                            <option value="per-capita">Per Capita (kWh)</option>
                            <option value="total">Total (TWh)</option>
                            <option value="intensity">Intensity</option>
                        </select>
                    </div>

                    <button class="play-btn" id="playBtn">
                        <span class="material-icons-outlined">play_arrow</span>
                        <span>Play</span>
                    </button>
                </div>
            </div>

            <div class="intro-header">
                <h1>The Pulse of Our Planet</h1>
                <p>Alright, let's take a walk through this dashboard. You asked me to look at the data and the layout, and what we have here is essentially the heartbeat of modern civilization. It’s not just a collection of charts; it’s a narrative about how we survive, how we grow, and—crucially—how we are trying to change.</p>
                <br>
                <p>The <strong>KPI cards</strong> below immediately set the scene. They tell a story of "expansion with a conscience." You see that <strong>Total Energy Use</strong> is up (+2.4%), yet <strong>Fossil Fuel Consumption</strong> is slightly down (-0.8%). This suggests we might be reaching peak fossil fuel usage.</p>
            </div>

            <div class="kpi-section">
                <div class="kpi-card">
                    <div class="kpi-icon" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                        <span class="material-icons-outlined">flash_on</span>
                    </div>
                    <div class="kpi-content">
                        <span class="kpi-value" id="kpiTotalEnergy">--</span>
                        <span class="kpi-label">Total Energy Use</span>
                        <span class="kpi-change positive">+2.4% vs last year</span>
                    </div>
                </div>

                <div class="kpi-card">
                    <div class="kpi-icon" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">
                        <span class="material-icons-outlined">local_gas_station</span>
                    </div>
                    <div class="kpi-content">
                        <span class="kpi-value" id="kpiFossil">--</span>
                        <span class="kpi-label">Fossil Fuel Consumption</span>
                        <span class="kpi-change negative">-0.8% vs last year</span>
                    </div>
                </div>

                <div class="kpi-card">
                    <div class="kpi-icon" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);">
                        <span class="material-icons-outlined">eco</span>
                    </div>
                    <div class="kpi-content">
                        <span class="kpi-value" id="kpiRenewables">--</span>
                        <span class="kpi-label">Renewables Consumption</span>
                        <span class="kpi-change positive">+8.5% vs last year</span>
                    </div>
                </div>

                <div class="kpi-card">
                    <div class="kpi-icon" style="background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);">
                        <span class="material-icons-outlined">trending_up</span>
                    </div>
                    <div class="kpi-content">
                        <span class="kpi-value" id="kpiGDP">--</span>
                        <span class="kpi-label">GDP per Capita ($)</span>
                        <span class="kpi-change positive">+3.1% vs last year</span>
                    </div>
                </div>
            </div>

            <div class="charts-section">
                <div class="charts-grid">

                    <div class="narrative-break">
                        <h3>The Engine Room</h3>
                        <p>Now, let’s drift down to the charts. This is the engine room of the dashboard. It starts with <strong>Global Energy Consumption</strong> and <strong>Energy Mix</strong>. If you toggle the view to "Area," you get this massive mountain range of data. It shows us that while we are excited about wind and solar, the "base load" of our civilization is still heavy. The Energy Mix breaks this down ruthlessly—you can see the massive blocks of Coal and Oil, but you also see that thin, vibrant sliver of Renewables getting wider every single year.</p>
                    </div>

                    <div class="chart-card large">
                        <div class="chart-header">
                            <div class="chart-title">
                                <h2>Global Energy Consumption</h2>
                                <p>Primary energy consumption per person over time</p>
                            </div>
                            <div class="chart-actions">
                                <button class="chart-btn active" data-view="lines">Lines</button>
                                <button class="chart-btn" data-view="area">Area</button>
                            </div>
                        </div>
                        <div class="chart-body">
                            <div id="chart-consumption"></div>
                        </div>
                    </div>

                    <div class="chart-card">
                        <div class="chart-header">
                            <div class="chart-title">
                                <h2>Energy Mix by Source</h2>
                                <p>Consumption breakdown: Coal, Gas, Oil, Renewables</p>
                            </div>
                        </div>
                        <div class="chart-body">
                            <div id="chart-mix"></div>
                        </div>
                    </div>

                    <div class="narrative-break">
                        <h3>Optimism & Efficiency</h3>
                        <p>This is where the optimism lives. In the <strong>Renewable Energy Growth</strong> and <strong>Low Carbon Tech</strong> sections, the curve is exponential. We aren't just adding solar panels linearly; we are multiplying them. This ties directly into the <strong>Carbon Intensity</strong> chart, which answers the question: "How much CO2 do we emit for every dollar of wealth we create?" The line is trending down, meaning we are finally decoupling growth from pollution.</p>
                    </div>

                    <div class="chart-card">
                        <div class="chart-header">
                            <div class="chart-title">
                                <h2>Renewable Energy Growth</h2>
                                <p>Renewables consumption trends over time</p>
                            </div>
                        </div>
                        <div class="chart-body">
                            <div id="chart-renewables"></div>
                        </div>
                    </div>

                    <div class="chart-card">
                        <div class="chart-header">
                            <div class="chart-title">
                                <h2>Energy vs GDP</h2>
                                <p>Relationship between prosperity and energy use</p>
                            </div>
                        </div>
                        <div class="chart-body">
                            <div id="chart-gdp-energy"></div>
                        </div>
                    </div>

                    <div class="chart-card">
                        <div class="chart-header">
                            <div class="chart-title">
                                <h2>Carbon Intensity</h2>
                                <p>CO2 emissions vs energy consumption relationship</p>
                            </div>
                        </div>
                        <div class="chart-body">
                            <div id="chart-co2-energy"></div>
                        </div>
                    </div>

                     <div class="chart-card">
                        <div class="chart-header">
                            <div class="chart-title">
                                <h2>Global Energy Share</h2>
                                <p>Distribution of energy consumption by source</p>
                            </div>
                        </div>
                        <div class="chart-body">
                            <div id="chart-share"></div>
                        </div>
                    </div>

                    <div class="narrative-break">
                        <h3>The Geopolitical Shift</h3>
                        <p>The geopolitical story is told here. It says <strong>"Asia dominates growth,"</strong> and the charts prove it. In <strong>Regional Evolution</strong>, you see the US and Europe plateauing, while China and India are rocketing upwards. The center of gravity for the global energy market has shifted East, and it’s not going back. This is reflected clearly in the <strong>Top Consumers</strong> chart.</p>
                    </div>

                    <div class="chart-card">
                        <div class="chart-header">
                            <div class="chart-title">
                                <h2>Regional Energy Evolution</h2>
                                <p>Energy consumption trends by major countries</p>
                            </div>
                        </div>
                        <div class="chart-body">
                            <div id="chart-evolution"></div>
                        </div>
                    </div>

                    <div class="chart-card">
                        <div class="chart-header">
                            <div class="chart-title">
                                <h2>Low Carbon Energy Adoption</h2>
                                <p>Growth of clean energy sources globally</p>
                            </div>
                        </div>
                        <div class="chart-body">
                            <div id="chart-low-carbon"></div>
                        </div>
                    </div>

                    <div class="chart-card">
                        <div class="chart-header">
                            <div class="chart-title">
                                <h2>Top Energy Consumers</h2>
                                <p>Countries by total primary energy consumption</p>
                            </div>
                        </div>
                        <div class="chart-body">
                            <div id="chart-top-consumers"></div>
                        </div>
                    </div>

                    <div class="narrative-break">
                        <h3>The Big Picture</h3>
                        <p>Finally, the <strong>Global Energy Map</strong> ties it all together spatially. It allows you to see the inequality and the density of usage at a glance—the dark clusters of the industrialized north versus the lights coming on across the developing world. It’s a race against time, but the data shows we are finally running in the right direction.</p>
                    </div>

                    <div class="chart-card">
                        <div class="chart-header">
                            <div class="chart-title">
                                <h2>Global Energy Map</h2>
                                <p>Energy consumption by country worldwide</p>
                            </div>
                        </div>
                        <div class="chart-body">
                            <div id="chart-map"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="insights-section">
                <div class="insight-card">
                    <h3>Key Insights Summary</h3>
                    <div class="insight-content">
                        <div class="insight-item">
                            <span class="material-icons-outlined" style="color: #43e97b;">trending_up</span>
                            <p><strong>Renewable adoption accelerating:</strong> Clean energy sources have grown
                                significantly over the last decade globally.</p>
                        </div>
                        <div class="insight-item">
                            <span class="material-icons-outlined" style="color: #4facfe;">public</span>
                            <p><strong>Asia dominates growth:</strong> China and India account for major portions of the
                                world's energy consumption growth since 2000.</p>
                        </div>
                        <div class="insight-item">
                            <span class="material-icons-outlined" style="color: #f5576c;">eco</span>
                            <p><strong>Energy transition underway:</strong> Fossil fuel consumption share is declining
                                while renewables continue to grow.</p>
                        </div>
                    </div>
                </div>

                <div class="stats-card">
                    <h3>Dashboard Stats</h3>
                    <div class="stats-grid">
                        <div class="stat-item">
                            <span class="stat-value">150+</span>
                            <span class="stat-label">Countries</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value">32</span>
                            <span class="stat-label">Years of Data</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value">10</span>
                            <span class="stat-label">Interactive Charts</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value">5</span>
                            <span class="stat-label">Energy Sources</span>
                        </div>
                    </div>
                </div>
            </div>

            <footer class="main-footer">
                <p>Data from Our World in Data | Energy Insights Dashboard | Built with Plotly.js and D3.js</p>
            </footer>
        </main>
    </div>

    <script src="js/chart1_consumption.js"></script>
    <script src="js/chart7_evolution.js"></script>
    <script src="js/chart9_top_consumers.js"></script>
    <script src="js/chart6_share.js"></script>
    <script src="js/chart2_mix.js"></script>
    <script src="js/chart3_renewables.js"></script>
    <script src="js/chart8_low_carbon.js"></script>
    <script src="js/chart4_gdp_energy.js"></script>
    <script src="js/chart5_co2_energy.js"></script>
    <script src="js/chart10_map.js"></script>
    <script src="main.js"></script>
</body>

</html>